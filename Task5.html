<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sweet Treats - Your Dessert Destination</title>
    <!-- Google Fonts: Poppins for modern look -->
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&display=swap" rel="stylesheet">
    <!-- Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- AOS CSS for Animate On Scroll -->
    <link href="https://cdn.jsdelivr.net/npm/aos@2.3.4/dist/aos.css" rel="stylesheet">
    <style>
        /* Custom styles for font-family and active nav link */
        body {
            font-family: 'Poppins', sans-serif;
            scroll-behavior: smooth;
        }
        .nav-link.active {
            font-weight: 700;
            color: #fbcfe8; /* Lighter pink for active state */
        }
        /* Custom scrollbar for a cleaner look */
        ::-webkit-scrollbar {
            width: 8px;
        }
        ::-webkit-scrollbar-track {
            background: #f1f1f1;
        }
        ::-webkit-scrollbar-thumb {
            background: #f472b6;
            border-radius: 4px;
        }
        ::-webkit-scrollbar-thumb:hover {
            background: #ec4899;
        }
    </style>
</head>
<body class="bg-gradient-to-br from-pink-50 to-purple-50 text-gray-800">

    <!-- Header -->
    <header class="bg-gradient-to-r from-pink-500 to-purple-600 text-white p-4 shadow-lg sticky top-0 z-50">
        <div class="container mx-auto flex justify-between items-center">
            <a href="#" class="text-3xl font-bold tracking-wider">Sweet Treats</a>
            <nav class="hidden md:flex space-x-6">
                <a href="#home" class="nav-link hover:text-pink-200 transition duration-300">Home</a>
                <a href="#products" class="nav-link hover:text-pink-200 transition duration-300">Products</a>
                <a href="#about" class="nav-link hover:text-pink-200 transition duration-300">About Us</a>
                <a href="#contact" class="nav-link hover:text-pink-200 transition duration-300">Contact</a>
                <button id="cart-button" class="relative bg-pink-700 hover:bg-pink-800 text-white font-semibold py-2 px-4 rounded-full shadow-md transition duration-300">
                    Cart (<span id="cart-count">0</span>)
                </button>
            </nav>
            <!-- Mobile Menu Button -->
            <button id="mobile-menu-button" class="md:hidden text-white focus:outline-none">
                <svg class="w-8 h-8" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path></svg>
            </button>
        </div>
    </header>

    <!-- Mobile Navigation Menu -->
    <div id="mobile-menu" class="fixed inset-0 bg-purple-900 bg-opacity-95 z-50 hidden md:hidden flex-col items-center justify-center space-y-8 text-2xl">
        <button id="close-mobile-menu" class="absolute top-4 right-4 text-white focus:outline-none">
            <svg class="w-10 h-10" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg>
        </button>
        <a href="#home" class="mobile-nav-link text-white hover:text-pink-200 transition duration-300">Home</a>
        <a href="#products" class="mobile-nav-link text-white hover:text-pink-200 transition duration-300">Products</a>
        <a href="#about" class="mobile-nav-link text-white hover:text-pink-200 transition duration-300">About Us</a>
        <a href="#contact" class="mobile-nav-link text-white hover:text-pink-200 transition duration-300">Contact</a>
        <button id="mobile-cart-button" class="bg-pink-700 hover:bg-pink-800 text-white font-semibold py-3 px-6 rounded-full shadow-md transition duration-300">
            Cart (<span id="mobile-cart-count">0</span>)
        </button>
    </div>

    <!-- Shopping Cart Modal -->
    <div id="cart-modal" class="fixed inset-0 bg-gray-900 bg-opacity-75 flex items-center justify-center z-50 hidden">
        <div class="bg-white p-8 rounded-lg shadow-xl w-11/12 md:w-1/2 lg:w-1/3 relative">
            <h2 class="text-3xl font-bold text-pink-600 mb-6 text-center">Your Cart</h2>
            <button id="close-cart-modal" class="absolute top-4 right-4 text-gray-600 hover:text-gray-900 focus:outline-none">
                <svg class="w-8 h-8" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg>
            </button>
            <div id="cart-items" class="max-h-60 overflow-y-auto mb-6 border border-gray-200 rounded-lg p-3">
                <!-- Cart items will be dynamically added here -->
                <p class="text-gray-500 text-center" id="empty-cart-message">Your cart is empty.</p>
            </div>
            <div class="flex justify-between items-center text-xl font-semibold text-gray-800 mb-6 border-t pt-4">
                <span>Total:</span>
                <span id="cart-total">$0.00</span>
            </div>
            <button class="w-full bg-green-500 hover:bg-green-600 text-white font-bold py-3 rounded-full shadow-md transition duration-300">
                Proceed to Checkout
            </button>
        </div>
    </div>

    <!-- Hero Section -->
    <section id="home" class="relative h-screen flex items-center justify-center text-center bg-cover bg-center" style="background-image: url('https://placehold.co/1920x1080/FBCFE8/881337?text=Delicious+Desserts');">
        <div class="absolute inset-0 bg-black opacity-50"></div>
        <div class="z-10 text-white p-8 rounded-lg" data-aos="fade-up" data-aos-duration="1500">
            <h1 class="text-5xl md:text-7xl font-extrabold mb-4 drop-shadow-lg">Indulge Your Sweet Tooth</h1>
            <p class="text-xl md:text-2xl mb-8 drop-shadow-md">Handcrafted desserts for every craving.</p>
            <a href="#products" class="bg-pink-600 hover:bg-pink-700 text-white font-bold py-3 px-8 rounded-full shadow-lg transition duration-300 transform hover:scale-105">
                Shop Now
            </a>
        </div>
    </section>

    <!-- Products Section -->
    <section id="products" class="py-16 bg-white">
        <div class="container mx-auto px-4">
            <h2 class="text-4xl font-bold text-center text-pink-600 mb-12" data-aos="fade-down" data-aos-duration="1000">Our Sweet Collection</h2>

            <!-- Filter/Search Bar -->
            <div class="mb-10 flex flex-col md:flex-row justify-center items-center gap-4" data-aos="fade-up" data-aos-duration="1000" data-aos-delay="200">
                <input type="text" id="product-search" placeholder="Search for desserts..." class="p-3 border border-gray-300 rounded-full shadow-sm focus:ring-pink-500 focus:border-pink-500 md:w-1/3 w-full">
                <select id="product-category" class="p-3 border border-gray-300 rounded-full shadow-sm focus:ring-pink-500 focus:border-pink-500 md:w-1/4 w-full">
                    <option value="all">All Categories</option>
                    <option value="cakes">Cakes</option>
                    <option value="pastries">Pastries</option>
                    <option value="cookies">Cookies</option>
                    <option value="ice-cream">Ice Cream</option>
                </select>
            </div>

            <div id="product-list" class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-8">
                <!-- Product cards will be dynamically loaded here -->
            </div>
        </div>
    </section>

    <!-- About Us Section -->
    <section id="about" class="py-16 bg-gradient-to-br from-pink-100 to-purple-100">
        <div class="container mx-auto px-4 flex flex-col md:flex-row items-center justify-center">
            <div class="md:w-1/2 p-4" data-aos="fade-right" data-aos-duration="1200">
                <img src="https://placehold.co/600x400/FBCFE8/881337?text=Our+Story" alt="Our Story" class="rounded-xl shadow-xl w-full h-auto object-cover">
            </div>
            <div class="md:w-1/2 p-4 text-center md:text-left" data-aos="fade-left" data-aos-duration="1200" data-aos-delay="300">
                <h2 class="text-4xl font-bold text-pink-600 mb-6">About Sweet Treats</h2>
                <p class="text-lg text-gray-700 mb-4">
                    At Sweet Treats, we believe that every moment deserves a touch of sweetness. Founded with a passion for baking and a commitment to quality, we craft delightful desserts that bring smiles to faces. From classic recipes passed down through generations to innovative new creations, our treats are made with the finest ingredients and a whole lot of love.
                </p>
                <p class="text-lg text-gray-700">
                    We're more than just a dessert shop; we're a community built around the joy of sharing delicious moments. Come, explore our world of flavors, and let us sweeten your day!
                </p>
            </div>
        </div>
    </section>

    <!-- Contact Section -->
    <section id="contact" class="py-16 bg-white">
        <div class="container mx-auto px-4">
            <h2 class="text-4xl font-bold text-center text-pink-600 mb-12" data-aos="fade-down" data-aos-duration="1000">Get in Touch</h2>
            <div class="max-w-xl mx-auto bg-pink-50 p-8 rounded-xl shadow-lg" data-aos="fade-up" data-aos-duration="1200">
                <form class="space-y-6">
                    <div>
                        <label for="name" class="block text-lg font-medium text-gray-700 mb-2">Name</label>
                        <input type="text" id="name" name="name" class="w-full p-3 border border-gray-300 rounded-lg focus:ring-pink-500 focus:border-pink-500" placeholder="Your Name">
                    </div>
                    <div>
                        <label for="email" class="block text-lg font-medium text-gray-700 mb-2">Email</label>
                        <input type="email" id="email" name="email" class="w-full p-3 border border-gray-300 rounded-lg focus:ring-pink-500 focus:border-pink-500" placeholder="your.email@example.com">
                    </div>
                    <div>
                        <label for="message" class="block text-lg font-medium text-gray-700 mb-2">Message</label>
                        <textarea id="message" name="message" rows="5" class="w-full p-3 border border-gray-300 rounded-lg focus:ring-pink-500 focus:border-pink-500 resize-y" placeholder="How can we help you?"></textarea>
                    </div>
                    <button type="submit" class="w-full bg-pink-600 hover:bg-pink-700 text-white font-bold py-3 rounded-full shadow-lg transition duration-300 transform hover:scale-105">
                        Send Message
                    </button>
                </form>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="bg-gray-800 text-white py-8 text-center">
        <div class="container mx-auto px-4">
            <p class="mb-2"> 2024 Sweet Treats. All rights reserved.</p>
            <p class="text-sm">Made with <span class="text-red-500">&hearts;</span> for your sweet cravings.</p>
        </div>
    </footer>

    <!-- AOS JavaScript -->
    <script src="https://cdn.jsdelivr.net/npm/aos@2.3.4/dist/aos.js"></script>
    <script>
        AOS.init({
            once: true, // animations only run once
            duration: 1000, // animation duration
        });

        // --- Product Data (Simulated API Response) ---
        const products = [
            { id: 1, name: "Classic Chocolate Cake", price: 24.99, image: "choci.jpg", category: "cakes", description: "Rich, moist chocolate cake with a creamy ganache." },
            { id: 2, name: "Strawberry Shortcake", price: 19.99, image: "Strawberry Shortcake.jpg", category: "cakes", description: "Light sponge cake with fresh strawberries and whipped cream." },
            { id: 3, name: "Lemon Meringue Pie", price: 22.50, image: "Lemon Meringue Pie.jpg", category: "pastries", description: "Tangy lemon filling topped with fluffy meringue." },
            { id: 4, name: "Assorted Macarons", price: 15.00, image: "Assorted Macarons.jpg", category: "pastries", description: "A delightful selection of colorful French macarons." },
            { id: 5, name: "Chocolate Chip Cookies", price: 9.50, image: "Chocolate Chip Cookies.jpg", category: "cookies", description: "Classic chewy cookies loaded with chocolate chips." },
            { id: 6, name: "Oatmeal Raisin Cookies", price: 8.75, image: "Oatmeal Raisin Cookies.jpg", category: "cookies", description: "Wholesome and delicious oatmeal raisin cookies." },
            { id: 7, name: "Vanilla Bean Ice Cream", price: 12.00, image: "Vanilla Bean Ice Cream.jpg", description: "Creamy, rich vanilla ice cream made with real vanilla beans." },
            { id: 8, name: "Mint Chocolate Chip Ice Cream", price: 13.50, image: "Mint Chocolate Chip Ice Cream.jpg", category: "ice-cream", description: "Refreshing mint ice cream with chocolate chunks." },
            { id: 9, name: "Red Velvet Cupcakes", price: 18.00, image: "Red Velvet Cupcakes.jpg", category: "cakes", description: "Moist red velvet cupcakes with cream cheese frosting." },
            { id: 10, name: "Eclairs", price: 16.00, image: "Eclairs.jpg", category: "pastries", description: "Delicate choux pastry filled with cream and topped with glaze." },
        ];

        let cart = []; // Stores items in the cart

        // --- DOM Elements ---
        const productListDiv = document.getElementById('product-list');
        const cartCountSpan = document.getElementById('cart-count');
        const mobileCartCountSpan = document.getElementById('mobile-cart-count');
        const cartButton = document.getElementById('cart-button');
        const mobileCartButton = document.getElementById('mobile-cart-button');
        const cartModal = document.getElementById('cart-modal');
        const closeCartModalButton = document.getElementById('close-cart-modal');
        const cartItemsDiv = document.getElementById('cart-items');
        const cartTotalSpan = document.getElementById('cart-total');
        const emptyCartMessage = document.getElementById('empty-cart-message');
        const productSearchInput = document.getElementById('product-search');
        const productCategorySelect = document.getElementById('product-category');
        const mobileMenuButton = document.getElementById('mobile-menu-button');
        const mobileMenu = document.getElementById('mobile-menu');
        const closeMobileMenuButton = document.getElementById('close-mobile-menu');
        const mobileNavLinks = document.querySelectorAll('.mobile-nav-link');
        const desktopNavLinks = document.querySelectorAll('.nav-link');


        // --- Functions ---

        // Function to render product cards
        function renderProducts(filteredProducts = products) {
            productListDiv.innerHTML = ''; // Clear existing products
            if (filteredProducts.length === 0) {
                productListDiv.innerHTML = '<p class="col-span-full text-center text-gray-500 text-xl">No desserts found matching your criteria.</p>';
                return;
            }

            filteredProducts.forEach(product => {
                const productCard = document.createElement('div');
                productCard.className = 'bg-white rounded-xl shadow-lg hover:shadow-xl transition-shadow duration-300 overflow-hidden transform hover:-translate-y-2';
                productCard.setAttribute('data-aos', 'fade-up');
                productCard.setAttribute('data-aos-duration', '800');
                productCard.innerHTML = `
                    <img src="${product.image}" alt="${product.name}" class="w-full h-48 object-cover loading="lazy"">
                    <div class="p-6">
                        <h3 class="text-xl font-semibold text-gray-800 mb-2">${product.name}</h3>
                        <p class="text-gray-600 text-sm mb-4">${product.description}</p>
                        <div class="flex justify-between items-center">
                            <span class="text-2xl font-bold text-pink-600">$${product.price.toFixed(2)}</span>
                            <button class="add-to-cart-btn bg-purple-500 hover:bg-purple-600 text-white font-bold py-2 px-4 rounded-full shadow-md transition duration-300" data-product-id="${product.id}">
                                Add to Cart
                            </button>
                        </div>
                    </div>
                `;
                productListDiv.appendChild(productCard);
            });
            AOS.refresh(); // Refresh AOS to detect new elements
        }

        // Function to update cart display
        function updateCartDisplay() {
            cartCountSpan.textContent = cart.length;
            mobileCartCountSpan.textContent = cart.length;
            cartItemsDiv.innerHTML = '';
            let total = 0;

            if (cart.length === 0) {
                emptyCartMessage.style.display = 'block';
            } else {
                emptyCartMessage.style.display = 'none';
                cart.forEach((item, index) => {
                    const cartItemDiv = document.createElement('div');
                    cartItemDiv.className = 'flex justify-between items-center p-3 border-b border-gray-100 last:border-b-0';
                    cartItemDiv.innerHTML = `
                        <span>${item.name} ($${item.price.toFixed(2)})</span>
                        <button class="remove-from-cart-btn text-red-500 hover:text-red-700 transition duration-300" data-index="${index}">
                            Remove
                        </button>
                    `;
                    cartItemsDiv.appendChild(cartItemDiv);
                    total += item.price;
                });
            }
            cartTotalSpan.textContent = `$${total.toFixed(2)}`;
        }

        // --- Event Listeners ---

        // Add to Cart
        productListDiv.addEventListener('click', (event) => {
            if (event.target.classList.contains('add-to-cart-btn')) {
                const productId = parseInt(event.target.dataset.productId);
                const productToAdd = products.find(p => p.id === productId);
                if (productToAdd) {
                    cart.push(productToAdd);
                    updateCartDisplay();
                    // Optional: Show a temporary success message
                    event.target.textContent = 'Added!';
                    event.target.classList.add('bg-green-500', 'hover:bg-green-600');
                    setTimeout(() => {
                        event.target.textContent = 'Add to Cart';
                        event.target.classList.remove('bg-green-500', 'hover:bg-green-600');
                    }, 1000);
                }
            }
        });

        // Remove from Cart
        cartItemsDiv.addEventListener('click', (event) => {
            if (event.target.classList.contains('remove-from-cart-btn')) {
                const indexToRemove = parseInt(event.target.dataset.index);
                cart.splice(indexToRemove, 1); // Remove 1 element at the given index
                updateCartDisplay();
            }
        });

        // Open Cart Modal
        cartButton.addEventListener('click', () => {
            cartModal.classList.remove('hidden');
        });
        mobileCartButton.addEventListener('click', () => {
            cartModal.classList.remove('hidden');
            mobileMenu.classList.add('hidden'); // Close mobile menu if open
        });

        // Close Cart Modal
        closeCartModalButton.addEventListener('click', () => {
            cartModal.classList.add('hidden');
        });
        // Close modal when clicking outside
        cartModal.addEventListener('click', (event) => {
            if (event.target === cartModal) {
                cartModal.classList.add('hidden');
            }
        });

        // Product Search and Filter
        function applyFilters() {
            const searchTerm = productSearchInput.value.toLowerCase();
            const selectedCategory = productCategorySelect.value;

            const filtered = products.filter(product => {
                const matchesSearch = product.name.toLowerCase().includes(searchTerm) ||
                                      product.description.toLowerCase().includes(searchTerm);
                const matchesCategory = selectedCategory === 'all' || product.category === selectedCategory;
                return matchesSearch && matchesCategory;
            });
            renderProducts(filtered);
        }

        productSearchInput.addEventListener('keyup', applyFilters);
        productCategorySelect.addEventListener('change', applyFilters);

        // Mobile Menu Toggle
        mobileMenuButton.addEventListener('click', () => {
            mobileMenu.classList.remove('hidden');
        });
        closeMobileMenuButton.addEventListener('click', () => {
            mobileMenu.classList.add('hidden');
        });
        mobileNavLinks.forEach(link => {
            link.addEventListener('click', () => {
                mobileMenu.classList.add('hidden'); // Close menu on link click
            });
        });

        // Smooth scrolling for navigation links
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                document.querySelector(this.getAttribute('href')).scrollIntoView({
                    behavior: 'smooth'
                });
            });
        });

        // Highlight active navigation link on scroll
        const sections = document.querySelectorAll('section');
        const observerOptions = {
            root: null,
            rootMargin: '0px',
            threshold: 0.5 // Adjust as needed for when section is considered "active"
        };

        const observer = new IntersectionObserver((entries, observer) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    const currentSectionId = entry.target.id;
                    desktopNavLinks.forEach(link => {
                        link.classList.remove('active');
                        if (link.getAttribute('href').slice(1) === currentSectionId) {
                            link.classList.add('active');
                        }
                    });
                    mobileNavLinks.forEach(link => {
                        link.classList.remove('active');
                        if (link.getAttribute('href').slice(1) === currentSectionId) {
                            link.classList.add('active');
                        }
                    });
                }
            });
        }, observerOptions);

        sections.forEach(section => {
            observer.observe(section);
        });


        // Initial render of products when the page loads
        document.addEventListener('DOMContentLoaded', () => {
            renderProducts();
            updateCartDisplay(); // Initialize cart count
        });

    </script>
</body>
</html>
